# Logs-Website

Website to simplify accessing MySQL logs in a more visually
appealing way.

# Site Structure

This page uses php scripts to implement OAuth login via Google (http://www.codexworld.com/login-with-google-api-using-php/)

Copy the 'src' folder from the downloaded archive in the root directory and follow the instructions
in the tutorial to configure in Google (register API key, etc).

## Important Files

reportData.php - Either serves up the report requested (by col_id, matching to a database entry) or
	accepts parameters to update or insert records (API calls).

	-Passing GET parameters will also filter the report on those columns.

reports/*.php - These are the scripts included in reportData.php if they match the reportType parameter.

dbconfig.php - Initiates database connection.

The reportData.php will load the dbconnection and then check to see if the user is authenticated (Google OAuth).
If they are it will serve them the reports their group settings allow them to see.

(TODO: We need to implement controls on who can make API updates)

js/ui_parameters.js - This is where the functions that create a report view are stored.  They use jQuery to 
	populate the parameters div with DOM elements to filter the report from reportData.php.
	
(TODO: jQuery and vanilla DOM syntax are mixed in these functions, this should be corrected to just jQuery).
	
css/reporting-styles.css - This stylesheet handles the custom elements for our page.

The other JS/CSS files are standard files for Bootstrap and DOM manipulation/AJAX scripting (jQuery).



-------------------------------------------------------------------------------------------------

# Logs-Website
Website to visually view mysql logs.

We're trying to make a logs website that will have few pages with wrapped querys.

# Parts to do.
There will be a few key parts to this system,

1) We need a user system, this will need to be a solid thing (perhaps google sso? to make it secure). But then I will need to be able to give different permissions to different users (so we need a human readable list (emails are fine bonus points for letting me add nicknames)).

2) Standardized log pages (just want them to look uniform). Needs to be able to be hosted on apache, should look like bootstrap (since its nice and clean)

3) Log pages to look up every info in each table as defined in this [repo](https://github.com/CivilizatonExperiment/CivExLogging/tree/master/src/com/civexperiment/CivExLogging/Database/Tables "CivExLogging/Database/Tables/") (These will change as needed).

4) *fluff* be able to add notes to each log (maybe you click on it and its a drop down? and only admin can delete these notes, each user can see who posted the note)

# pages

Landing page which could contain some stats

User management page which allows access to specific pages

User registration page

Block / reinforcement page

Chat page

Command page

Entity page

Session page

Search History page (last one done since i need to think this one more out

# Ref

This picture is of a previous version that I've had just for refrence, (i know its ugly but it worked)

Blocks
![](http://i.imgur.com/KVY4MD4.png)

Chat
![](http://i.imgur.com/a7FVod9.png)

Session
![](http://i.imgur.com/SeNskRZ.png)




[This is a link to a new Dev discord I made](https://discord.gg/rfeZEqM "Instant Invite link") It's currently setup so that I need to approve people so that we will know whos who in there. Just PM me on reddit with your name there and if you want me to change your nick.
